import { Request, Response, NextFunction, Application } from "express";

import { IController } from "humpback";

import { server } from "./server";

export {server};

export class HB implements IController {
    static app: Application = server;
    
    static new(req: Request, res: Response, next: NextFunction): any {
        return new this(req, res, next);
    }
    
    public constructor(
        public req: Request,
        public res: Response,
        public next: NextFunction
    ) {
        (this as any)[req.method]();
    }
}